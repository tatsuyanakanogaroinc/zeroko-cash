# イベント管理のキャンセルステータス削除 - テスト手順

## 実装した修正内容
1. ✅ マスター設定のイベント管理UIからキャンセルステータスオプションを削除
2. ✅ TypeScript型定義を更新（Event interface）
3. ✅ ストアの型定義を更新
4. ✅ レポートページのキャンセルステータス処理コードを削除
5. ✅ データベース制約更新用マイグレーション作成

## 変更されたファイル
- `src/app/admin/settings/page.tsx` - UIからキャンセル選択肢削除
- `src/lib/types.ts` - Event型からcancelled削除
- `src/lib/store.ts` - Event interface更新
- `src/app/reports/page.tsx` - キャンセル処理ロジック削除
- `migrate_remove_cancelled_status_from_events.sql` - データベース制約更新

## テスト手順

### 1. マイグレーション実行
Supabaseで以下のSQLを実行：
```sql
-- migrate_remove_cancelled_status_from_events.sql の内容を実行
```

### 2. マスター設定のイベント管理確認
1. http://localhost:3003/admin/settings にアクセス
2. 「イベント管理」タブを選択
3. 新規イベント作成または既存イベント編集で「ステータス」項目を確認
4. **期待される結果**：
   - 「アクティブ」と「完了」のみ選択可能
   - 「キャンセル」オプションが削除されている

### 3. 既存イベントの確認
1. イベント一覧で既存のイベントステータスを確認
2. 以前に「キャンセル」だったイベントは「完了」に変更されている
3. ステータス表示で「キャンセル」バッジが表示されない

### 4. レポート機能の確認
1. レポート画面で過去にキャンセルされていたイベントが正常に表示される
2. エラーが発生しない

## 影響範囲
- ✅ **イベント管理UI**：キャンセル選択肢削除
- ✅ **既存データ**：キャンセル→完了に自動変換
- ❌ **外注契約**：影響なし（別の機能）
- ❌ **他のステータス**：影響なし

## 注意事項
- 既存の「キャンセル」ステータスのイベントは「完了」に変更されます
- この変更は元に戻せないため、必要に応じて事前にバックアップを取ってください

マイグレーション実行後、イベント管理がよりシンプルになり、不要なキャンセルステータスが削除されます。